\documentclass[12pt, titlepage]{article}

\usepackage{amsmath, mathtools}

\usepackage[round]{natbib}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[section]{placeins}
\usepackage{caption}
\usepackage{fullpage}

\hypersetup{
	bookmarks=true,     % show bookmarks bar?
	colorlinks=true,       % false: boxed links; true: colored links
	linkcolor=red,          % color of internal links (change box color with 
	%linkbordercolor)
	citecolor=blue,      % color of links to bibliography
	filecolor=magenta,  % color of file links
	urlcolor=cyan          % color of external links
}

\usepackage{array}

\newcounter{tablenum} %Table number
\newcommand{\tablethetablenum}{Table\thetablenum}
\newcommand{\tableref}[1]{Table\ref{#1}}
\newcounter{modulenum} %Module number
\newcommand{\modulethemodulenum}{Module\themodulenum}
\newcommand{\moduleref}[1]{Module\ref{#1}}
\newcounter{algnum} %Algorithm number
\newcommand{\algthealgnum}{NA\thealgnum}
\newcommand{\algref}[1]{NA\ref{#1}}

%\newcommand{\forceindent}{\parindent=1em\indent\parindent=0pt\relax}

%\oddsidemargin -1000mm
%\evensidemargin -1000mm
%\textwidth 160mm
%\textheight 300mm
%\newgeometry{margin=2cm}

\externaldocument[MG-]{../MG/MG}
\externaldocument[SRS-]{../../SRS/SRS}

\input{../../Comments}

\newcommand{\progname}{SSP}

\begin{document}

\title{Module Interface Specification for Slope Stability Analysis Program 
(\progname)} 
\author{Henry Frankis and Brooks MacLachlan}
\date{\today}
	
\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
	\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
	\midrule
	11/12/18 & 1.0 & Initial updates based on template\\
	\bottomrule
\end{tabularx}

~\newpage

\section{Symbols, Abbreviations and Acronyms}

See Section~\ref{SRS-sec_RefMat} of the SRS Documentation, available in
\href{https://github.com/smiths/caseStudies/blob/master/CaseStudies/ssp/docs/SRS/SRS.pdf}
{the GitHub repository for the project}.

\newpage

\tableofcontents

\newpage

\pagenumbering{arabic}

\section{Introduction}

The following document details the Module Interface Specifications for
\progname, a program for determining the critical slip surface and 
corresponding factor of safety for a given sloped mass of soil. The document is 
intended to ease understanding of the design of \progname{} and should be used 
as a resource for any maintenance of \progname{}.

Complementary documents include the System Requirement Specifications
and Module Guide.  The full documentation and implementation can be
found at 
\href{https://github.com/smiths/caseStudies/tree/master/CaseStudies/ssp}
{the GitHub repository for the project}.

% ---------------------------------------------------------------- %
% ------------------------ NOTATION ------------------------------ %
% ---------------------------------------------------------------- %

\section{Notation}

The structure of the MIS for modules comes from \citet{HoffmanAndStrooper1995},
with the addition that template modules have been adapted from
\cite{GhezziEtAl2003}.  The mathematical notation comes from Chapter 3 of
\citet{HoffmanAndStrooper1995}.  For instance, the symbol $\coloneqq$ is used 
for a multiple assignment statement and conditional rules follow the form $(c_1
\Rightarrow r_1 | c_2 \Rightarrow r_2 | \dots | c_n \Rightarrow r_n )$.

The following table summarizes the primitive data types used by \progname.

~\newline \renewcommand*{\arraystretch}{1.5}
\begin{tabular}{p{0.2\textwidth} p{0.1\textwidth} p{0.7\textwidth}}
  \hline \textbf{Data Type} & \textbf{Notation} & \textbf{Description}
  \\ \hline
  
  character & char & a single symbol or digit\\

  boolean & $\mathbb{B}$ & a value from the set \{true, false\}\\
  
  real & $\mathbb{R}$ & any number in $\left( -\infty, \infty \right)$.\\
  \bottomrule
\end{tabular}

~\newline
The specification of \progname{} uses some derived data types: sequences, 
strings, and tuples. Sequences are ordered lists of elements of the same data 
type, denoted by brackets enclosing the type of the data elements. If a 
sequence has fixed dimensions, the notation of the type will include the 
dimensions in superscript. Strings are sequences of characters. Tuples contain 
a list of values, potentially of different types, each associated with a field 
identifier. When a tuple is referenced in this document, a link to an appendix 
section that specifies the fields of the tuple will be provided. In addition, 
\progname \ uses functions, which are defined by the data types of their inputs 
and outputs. Local functions are described by giving their type signature 
followed by their specification.

% ---------------------------------------------------------------- %
% ------------------------ ALGORITHM ----------------------------- %
% ---------------------------------------------------------------- %

\section{Numerical Algorithms}

\subsection*{Morgenstern-Price (Section \ref{sec:MPMod})}
The non-linear nature of the systems of equations in the Morgenstern-Price 
solver algorithm requires that the equations for
the factor of safety (IM\ref{SRS-IM_FS}), the interslice normal-to-shear force 
ratio (IM\ref{SRS-IM_Lambda}), and the interslice normal forces 
(IM\ref{SRS-IM_E}) are solved iteratively, with an initial guess for two of the 
values, typically the factor of safety and interslice normal-to-shear force 
ratio.

\subsection*{Genetic Algorithm (Section \ref{sec:GenAlgMod})}
\progname{} uses a genetic algorithm to find the coordinates of the
critical slip surface vertices that minimize the factor of safety, as described 
in IM\ref{SRS-IM_Min}. The genetic algorithm generates a set of initial 
potential slip surfaces, and subsequent generations are created by merging and 
mutating slip surfaces with low factors of safety from the previous generation. 
The minimum factor of safety after several generations is assumed to correspond 
to the critical slip surface.

\bmac{This section is not on the template. I've left it in for now because the 
information does seem useful, but maybe this is not the right place for it? 
Maybe this should go to an appendix?}

% ---------------------------------------------------------------- %
% --------------------- MODULE DECOMPOSITION --------------------- %
% ---------------------------------------------------------------- %

\section{Module Decomposition}

The following table is taken directly from the Module Guide document for this 
project.

\begin{table}[h!]
	\centering
	\begin{tabular}{p{0.3\textwidth} p{0.6\textwidth} }
		\toprule
		\textbf{Level 1} & \textbf{Level 2} \\
		\midrule
		
		{Hardware-Hiding} & ~ \\
		\midrule
		
		\multirow{8}{0.3\textwidth}{Behaviour-Hiding} &
		Control \\
		& Input \\
		& Output \\
		& Genetic Algorithm \\
		& Kinematic Admissibility \\
		& Slip Weighting \\
		& Slip Slicing \\
		& Morgenstern-Price Calculation \\
		& Slice Property Calculation \\
		\midrule
		
		\multirow{3}{0.3\textwidth}{Software Decision} &
		Array Data Structure \\
		& Random Number Generation \\
		& Plotting \\
		\bottomrule
		
	\end{tabular}
	\caption{Module Hierarchy}
	\label{Table:Decomp}
\end{table}

% ---------------------------------------------------------------- %
% --------------------- CONTROL MODULE --------------------------- %
% ---------------------------------------------------------------- %

\section{MIS of the Control Module}

\subsection{Module}
Control

\subsection{Uses}

Input (Section \ref{sec:InputMod}), GenAlg (Section \ref{sec:GenAlgMod}), 
Output (Section \ref{sec:OutputMod})

\subsection{Syntax}

\subsubsection{Exported Access Programs}

\begin{center}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular} {|p{0.15\textwidth}| p{0.15\textwidth}
    |p{0.25\textwidth} |p{0.15\textwidth}|}
  \hline \textbf{Name} & \textbf{In} & \textbf{Out} &
  \textbf{Exceptions} \\ \hline

  Control & string & - & - \\ \hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

None

\subsubsection{Assumptions}

The access program is called with a string parameter.

\subsubsection{Access Routine Semantics}

control(\textit{fname}):
\begin{itemize}
	\item transition: Modifies the state of the Input Module, Genetic Algorithm 
	Module, and Output Module.
\end{itemize}

% ---------------------------------------------------------------- %
% ---------------------- INPUT MODULE ---------------------------- %
% ---------------------------------------------------------------- %

\section{MIS of the Input Module} \label{sec:InputMod}

\subsection{Module}
Input

\subsection{Syntax}

\subsubsection{Exported Access Programs}
\begin{center}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{0.18\textwidth} | p{0.25\textwidth} | 
p{0.15\textwidth} | p{0.15\textwidth} |} \hline 

  \textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}
  \\ \hline

   Input & 'string' (file); ~\newline bools; ~\newline reals & struc;
   ~\newline struc; ~\newline struc; ~\newline struc; ~\newline struc
   & input file error \\ \hline

\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{Environment Variables}

\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.2\textwidth} p{0.8\textwidth}}
  \textit{board} : keyboard & \\

  \textit{in\_file} : file & \\
\end{longtable}

\subsubsection{Access Routine Semantics}
\textbf{Input:} ~\newline\noindent Accepts a path to a file name. file
type is readable by Matlab, and is constructed in the format seen in
appendix \ref{sec:InFormat}. Command line prompts will control user
input values as boolean or real values through the keyboard
environment.

~\newline\noindent \textbf{Exceptions:} ~\newline\noindent
An input data file that does not follow intended input format will
generate an input file error.

~\newline\noindent \textbf{Output:}
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.3\textwidth} p{0.7\textwidth}}
  \textit{params\_layers} : struc\_layers & (Appendix
  \ref{Tbl:LayerParam})\\

  \textit{params\_piez} : struc\_piez & (Appendix
  \ref{Tbl:PiezParam})\\

  \textit{params\_search} : struc\_search & (Appendix
  \ref{Tbl:SearchParam})\\

  \textit{params\_soln} : struc\_soln & (Appendix
  \ref{Tbl:SolnParam})\\

  \textit{params\_load} : struc\_load & (Appendix
  \ref{Tbl:LoadForceParam})
\end{longtable}


% ---------------------------------------------------------------- %
% -------------------- MORG PRICE MODULE ------------------------- %
% ---------------------------------------------------------------- %

\section{MIS of the Morgenstern Price Solver Module} \label{sec:MPMod}

\subsection{Module}
MorgPriceSolver

\subsection{Uses}

\subsubsection{Imported Access Programs}

\noindent
\textbf{Uses} PropertySorter - section \ref{sec:PropSortMod},
\textbf{Passes} \textit{evalslip}, \textit{params\_layers},
\textit{params\_piez} \textbf{Recieves} \textit{params\_soilInterior},
\textit{params\_soilBase}, \textit{params\_internalForce},
\textit{params\_angles}

\subsection{Syntax}

\subsubsection{Exported Access Programs}
\begin{center}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{0.2\textwidth} | p{0.2\textwidth} | 
p{0.2\textwidth} | p{0.2\textwidth} |} \hline 

  \textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}
  \\ \hline

  Morgenstern Price ~\newline Solver & Sequence; ~\newline struc;
  ~\newline struc; ~\newline struc; ~\newline struc & Real & Non
  Converging; ~\newline Spurious \textit{F\_MP} \\ \hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{Local Constants}
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{ p{0.2\textwidth}  p{0.8\textwidth}}
  \textit{F\_MinLim} : $\mathbb{R}$ & The minimum factor of safety
  value that the solution must be above to not be considered
  spurious. [\textit{F\_MinLim}=0.5]\\
  
  \textit{max\_iter} : $\mathbb{R}$ & The max number of iterations the
  algorithm will perform before the solution is considered non
  converging. [\textit{max\_iter}=20]\\

  \textit{eps\_F} : $\mathbb{R}$ & The value the absolute difference
  between the factor of safety calculated by the algorithm between
  consecutive iterations must be below for the answer to be considered
  converged. [\textit{eps\_F}=1E-6]\\

  \textit{eps\_Lam} : $\mathbb{R}$ & The value the absolute difference
  between the interslice normal to shear force ratio calculated by the
  algorithm between consecutive iterations must be below for the
  answer to be considered converged. [\textit{eps\_Lam}=1E-6]\\
\end{longtable}

\subsubsection{State Variables}

\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{ p{0.2\textwidth}  p{0.8\textwidth}}
  \textit{Lam} : $\mathbb{R}$ & The interslice normal to shear force
  ratio. From IM\ref{SRS-IM_Lambda} of the SRS. \\

  \textit{E\_force} : $[\mathbb{R}]^{1,n+1}$ & Sequence of the value
  of the interslice normal force exerted between slices. A value for
  each interslice, including ends. Sequence length value \textit{n} is
  defined by the input \textit{evalslip}. From IM\ref{SRS-IM_E} of the
  SRS. \\

  \textit{Del\_F} : $\mathbb{R}$ & The difference between the factor
  of safety of the current iteration and the previous iteration. When
  converged the value will not be changing and \textit{Del\_F} will be
  small.\\

  \textit{Del\_Lam} : $\mathbb{R}$ & The difference between the
  interslice normal to shear force ratio of the current iteration and
  the previous iteration. When converged the value will not be
  changing and \textit{Del\_Lam} will be small.\\ 
\end{longtable}
 
\subsubsection{Access Routine Semantics}

\textbf{Input:} 
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.3\textwidth} p{0.7\textwidth}}
  \textit{evalslip} : $[\mathbb{R}]^{2,n+1}$ & Vertex coordinates for
  the slip surface being evaluated. Identifies shape of the slope, and
  slice points. Sequence length value of \textit{n} is defined by the
  Slicer module (section \ref{sec:SlicerMod}).\\

  \textit{params\_layers} : struc\_layers & (Appendix
  \ref{Tbl:LayerParam})\\

  \textit{params\_piez} : struc\_piez & (Appendix
  \ref{Tbl:PiezParam})\\

  \textit{params\_soln} : struc\_soln & (Appendix
  \ref{Tbl:SolnParam})\\

  \textit{params\_load} : struc\_load & (Appendix
  \ref{Tbl:LoadForceParam})
\end{longtable}

\noindent \textbf{Exceptions:} ~\newline\noindent A solution which
does not converge to a consistent solution, where the change in
calculated factor of safety (\textit{Del\_F}) between iterations is
less than \textit{eps\_F}, and the change in interslice normal to
shear force ratio (\textit{Del\_Lam}) is less than \textit{eps\_Lam},
in less than \textit{max\_iter} iterations will be considered non
converging exception case. A solution with a final calculated a factor
of safety less than \textit{F\_MinLim} will be considered a spurious
factor of safety exception case. Solutions that trigger these
exception cases will output a factor of safety (\textit{F\_MP}) of
1000.

~\newline\noindent \textbf{Output:}
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.15\textwidth} p{0.85\textwidth}}
  \textit{F\_MP} : $\mathbb{R}$ & The factor of safety of the slope,
  as calculated by the Morgenstern Price solution method, measuring
  the stability of the slope. From IM\ref{SRS-IM_FS} of the SRS.\\
\end{longtable}

% ---------------------------------------------------------------- %
% -------------------- GEN ALG MODULE ------------------------- %
% ---------------------------------------------------------------- %

\section{MIS of the Genetic Algorithm Module} \label{sec:GenAlgMod}

\subsection{Module}
GenAlgModule

\subsection{Uses}

\subsubsection{Imported Access Programs}
\noindent
\textbf{Uses} MorgPrice Module - section \ref{sec:MPMod},
\textbf{Passes} \textit{evalslip}, \textit{params\_layers},
\textit{params\_piez}, \textit{params\_soln}, 
\textit{params\_load}, \textbf{Receives} $\textit{F\_MP}_{i}$

~\newline\noindent \textbf{Uses} Slicer Module - section
\ref{sec:SlicerMod}, \textbf{Imports} $\textit{slip}_{i}$,
\textbf{Receives} \textit{evalslip}

~\newline\noindent \textbf{Uses} Kin Admissibility Module - section
\ref{sec:KinAdmMod}, \textbf{Imports} $\textit{slip}_{i}$,
\textit{strat1}, \textbf{Receives} \textit{KinPass},
$\textit{slip}_{i}$

~\newline\noindent \textbf{Uses} Slip Weights Module - section
\ref{sec:WeightMod}, \textbf{Imports} \textit{pool}, \textbf{Receives}
\textit{pool}

\subsection{Syntax}

\subsubsection{Exported Access Programs}
\begin{center}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{0.2\textwidth} | p{0.2\textwidth} | 
p{0.2\textwidth} | p{0.2\textwidth} |} \hline 

  \textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}
  \\ \hline

  GenAlg & struc; ~\newline struc; ~\newline struc; ~\newline struc;
  ~\newline struc & Array & None \\ \hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{Local Constants}
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.15\textwidth} p{0.85\textwidth}}
  \textit{nslip} : $\mathbb{R}$ & The number of vertices the generated
  slip surfaces will be described by. [nslip=13] \\

  \textit{Mpool} : $\mathbb{R}$ & The number of slip surfaces that
  will be in the pool of potential critical slip surfaces. [Mpool=40]
\end{longtable}

\subsubsection{State Variables}
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.3\textwidth} p{0.7\textwidth}}
  \textit{pool} : $[[\mathbb{R}]^{2,\text{nslip}}, \mathbb{R},
    \mathbb{R}]^{1,\text{Mpool}}$ & A sequence of data describing the
  slip surfaces that are currently being considered as possible
  critical slip surfaces. Contains three data elements describing the
  slope: A sequence of coordinates describing the geometry of the slip
  surface ($[\mathbb{R}]^{2,\text{nslip}}$), the factor of safety of
  the slip surface ($\mathbb{R}$), and a weighting value describing
  the surfaces factor of safety relative to the other slip surfaces in
  the pools factors of safety ($\mathbb{R}$). \\
\end{longtable}

\subsubsection{Access Routine Semantics}
\textbf{Input:} 
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.3\textwidth} p{0.7\textwidth}}
\textit{params\_layers} : struc\_layers & (Appendix \ref{Tbl:LayerParam})\\

\textit{params\_piez} : struc\_piez & (Appendix \ref{Tbl:PiezParam})\\

\textit{params\_search} : struc\_search & (Appendix
\ref{Tbl:SearchParam})\\

\textit{params\_soln} : struc\_soln & (Appendix
\ref{Tbl:SolnParam})\\

\textit{params\_load} : struc\_load & (Appendix
\ref{Tbl:LoadForceParam})\\
\end{longtable}

\noindent \textbf{Exceptions:} ~\newline\noindent There are
no potential exceptions for GenAlg.

~\newline\noindent \textbf{Output:}
\begin{longtable}{p{0.2\textwidth} p{0.8\textwidth}}
  cslip : $[\mathbb{R}]^{2,\text{nslip}}$ & Sequence of vertex
  coordinates describing the geometry of the critical slip surface of
  the slope.
\end{longtable}

% ---------------------------------------------------------------- %
% -------------------- PROPERTY SORTER MODULE -------------------- %
% ---------------------------------------------------------------- %

\section{MIS of the Property Sorter Module} \label{sec:PropSortMod}

\subsection{Module} 
PropertySorter

\subsection{Syntax}

\subsubsection{Exported Access Programs}
\begin{center}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{0.2\textwidth} | p{0.2\textwidth} | 
p{0.2\textwidth} | p{0.2\textwidth} |} \hline 

  \textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}
  \\ \hline

  Property Sorter & Sequence; ~\newline struc; ~\newline
  struc & struc; ~\newline struc; ~\newline struc; ~\newline struc &
  None \\ \hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{Access Routine Semantics}
\textbf{Input:}
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.3\textwidth} p{0.7\textwidth}}
  \textit{evalslip} : $[\mathbb{R}]^{1,n}$ & Sequence of vertex
  coordinates for the slip surface being evaluated. Identifies shape
  of the slope, and slice points. Sequence length value \textit{n} is
  defined by the Slicer module (section \ref{sec:SlicerMod}).  \\

  \textit{params\_layers} : struc\_layers & (Appendix
  \ref{Tbl:LayerParam}) \\
  
  \textit{params\_piez} : struc\_piez & (Appendix \ref{Tbl:PiezParam})
  \\
\end{longtable}

\noindent \textbf{Exceptions:} ~\newline\noindent There are no
potential exceptions for Property Sorter.

~\newline\noindent \textbf{Output:}
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.4\textwidth} p{0.6\textwidth}}
  \textit{params\_internalForce} : struc\_intForce & (Appendix
  \ref{Tbl:ForceParam})\\
  
  \textit{params\_angles} : struc\_angles & (Appendix \ref{Tbl:AngleParam})\\

  \textit{params\_soilInterior} : struc\_soilInt & (Appendix
  \ref{Tbl:SoilIntParam})\\

  \textit{params\_soilBase} : struc\_soilBase & (Appendix
  \ref{Tbl:SoilBaseParam})\\
\end{longtable}

% ---------------------------------------------------------------- %
% -------------------- SLICER MODULE ----------------------------- %
% ---------------------------------------------------------------- %

\section{MIS of the Slip Slicer Module} \label{sec:SlicerMod}

\subsection{Module}
Slicer

\subsection{Syntax}

\subsubsection{Exported Access Programs}
\begin{center}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{0.2\textwidth} | p{0.2\textwidth} | 
  p{0.2\textwidth} | p{0.2\textwidth} |} \hline 
  \textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}
  \\ \hline

  Slicer & Sequence; ~\newline bool & Sequence & None \\ \hline

\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{Local Constants}
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.1\textwidth} p{0.9\textwidth}}
  \textit{n} : $\mathbb{R}$ & The number of slices the slip surface
  will be broken into for evaluation. [n=36]\\
\end{longtable}

\subsubsection{Assumption}
A straight line describing the slip surface is assumed between
adjacent vertex coordinates given in the input \textit{slip}.

\subsubsection{Access Routine Semantics}
\textbf{Input:} 
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.15\textwidth} p{0.85\textwidth}}
  \textit{slip} : $[\mathbb{R}]^{2,\text{nslip}}$ & Sequence of vertex
  coordinates of the slip surface being sliced. \\

  \textit{evnslc} : $\mathbb{B}$ & Slicing method switch, an element
  from the \textit{params\_soln} structure (Appendix
  \ref{Tbl:SolnParam}).\\
\end{longtable}

\noindent \textbf{Exceptions:} ~\newline\noindent There are no
potential exceptions for Slip Slicer.

~\newline\noindent \textbf{Output:}
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.2\textwidth} p{0.8\textwidth}}
  \textit{evalslip} : $[\mathbb{R}]^{1,n}$ & Sequence of vertex
  coordinates for the slip surface being evaluated. Identifies shape
  of the slope, and slice points. \\
\end{longtable}

% ---------------------------------------------------------------- %
% -------------------- KIN ADM MODULE ------------------------- %
% ---------------------------------------------------------------- %

\section{MIS of the Kinematic Admissibility
  Module} \label{sec:KinAdmMod}

\subsection{Module}
KinAdm

\subsection{Syntax}

\subsubsection{Exported Access Programs}
\begin{center}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{0.2\textwidth} | p{0.2\textwidth} | 
p{0.15\textwidth} | p{0.15\textwidth} |} \hline 

  \textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}
  \\ \hline

  Kin Adm & Sequence; ~\newline Sequence; ~\newline struc & bool;
  ~\newline Sequence & None \\ \hline

\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{Assumption}
A straight line describing the slip surface is assumed between
adjacent vertex coordinates given in the input \textit{slip}.

\subsubsection{Access Routine Semantics}
\textbf{Input:}
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.25\textwidth} p{0.75\textwidth}}
  \textit{slip} : $[\mathbb{R}]^{2,\text{nslip}}$ & Sequence of vertex
  coordinates of the slip surface being tested. Sequence length value
  \textit{nslip} is defined by the Genetic Algorithm module (section
  \ref{sec:GenAlgMod}).\\
  
  $\textit{strat1}$ : $[\mathbb{R}]^{2,\text{nvtx}}$ & Sequence of
  the coordinates of the vertexes from the uppermost stratigraphic
  layer of the slope. Sequence length value \textit{nvtx} is defined
  by the given input file. \\
  
  \textit{params\_soln} : struc & (Appendix
  \ref{Tbl:SolnParam})
\end{longtable}

~\newline\noindent \textbf{Exceptions:} ~\newline\noindent There are
no potential exceptions for KinAdm.

~\newline\noindent \textbf{Output:}
\renewcommand{\arraystretch}{1.5}
\begin{longtable}{p{0.2\textwidth} p{0.8\textwidth}}
  \textit{KinPass} : $\mathbb{B}$ & Identifies if the input slip
  surface (\textit{slip}) has passed the admissibility criterion for a
  slip surface. If true than the slip surface has passed. If false
  than the slip surface has failed. \\

  \textit{slipPass} : $[\mathbb{R}]^{1,\text{nslip}}$ & Sequence of
  the slip surface given as input (\textit{slip}) with end vertexes
  adjusted to ensure they are on the slope surface.
\end{longtable}

% ---------------------------------------------------------------- %
% -------------------- SLIP WEIGHTING MODULE ------------------------- %
% ---------------------------------------------------------------- %

\section{MIS of the Slip Weighting
  Module} \label{sec:WeightMod}

\subsection{Module}
SlipWeighter

\subsection{Syntax}

\subsubsection{Exported Access Programs}
\begin{center}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{0.2\textwidth} | p{0.2\textwidth} | 
p{0.2\textwidth} | p{0.2\textwidth} |} \hline 

  \textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}
  \\ \hline

  Slip Weighting & Sequence; ~\newline Real & Sequence & None
  \\ \hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{Access Routine Semantics}
\textbf{Input:} 
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.32\textwidth} p{0.68\textwidth}}
  \textit{pool\_In} : $[[\mathbb{R}]^{2,\text{nslip}}, \mathbb{R},
    \mathbb{R}]^{1,\text{Mpool}}$ & A sequence of data sets describing
  the slip surfaces that are currently being considered as possible
  critical slip surfaces. Contains three data elements describing the
  slope: coordinates describing the geometry of the slip surface
  ($[\mathbb{R}]^{2,\text{nslip}}$),the factor of safety of the slip
  surface ($\mathbb{R}$), and a weighting value describing the
  surfaces factor of safety relative to the other slip surfaces in the
  pools factors of safety ($\mathbb{R}$). Sequence length values
  \textit{nslip}, and \textit{Mpool} are defined by the Genetic
  Algorithm Module (section \ref{sec:GenAlgMod}). \\

  \textit{Mpool} : $\mathbb{R}$ & The number of slip surfaces in the
  pool of possible critical slip surfaces being compared and
  weighting. constant defined in the Genetic Algorithm module (section
  \ref{sec:GenAlgMod}).
\end{longtable}

\noindent \textbf{Exceptions:} ~\newline\noindent There are no
potential exceptions for Slip Weighter.

~\newline\noindent \textbf{Output:}
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.33\textwidth} p{0.65\textwidth}}
  \textit{pool\_Out} : $[[\mathbb{R}]^{2,\text{nslip}}, \mathbb{R},
    \mathbb{R}]^{1,\text{Mpool}}$ & The sequence given in
  \textit{pool\_In}, with the weight data element recalculated, and
  the sequence reordered in terms of ascending factors of safety. \\
\end{longtable}


% ---------------------------------------------------------------- %
% -------------------- OUTPUT MODULE ------------------------- %
% ---------------------------------------------------------------- %

\section{MIS of the Output
  Module} \label{sec:OutputMod}

\subsection{Module}
Output

\subsection{Uses}

\subsubsection{Imported Access Programs}
\textbf{Uses} Slicer Module - section \ref{sec:SlicerMod},
\textbf{Passes} \textit{cslip}, \textit{evnslc}, \textbf{Receives}
\textit{eval\_cslip}

~\newline\noindent
\textbf{Uses} Morgenstern Price Module - section \ref{sec:MPMod},
\textbf{Passes} \textit{eval\_cslip}, \textit{params\_layers},
\textit{params\_piez}, \textit{params\_load},
\textit{params\_soln} \textbf{Recieves} \textit{F\_MP\_Final}

\subsection{Syntax}

\subsubsection{Exported Access Programs}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{0.2\textwidth} | p{0.15\textwidth} | 
p{0.25\textwidth} | p{0.2\textwidth} |} \hline 

  \textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions}
  \\ \hline

  Output & Sequence; ~\newline struc; ~\newline struc; ~\newline struc;
  ~\newline struc & - & None \\ \hline

\end{tabular}

\subsection{Semantics}

\subsubsection{State Variables}
\renewcommand{\arraystretch}{1.5}
\begin{longtable}{p{0.3\textwidth} p{0.7\textwidth}}
  \textit{F\_MP\_Final} : $\mathbb{R}$ & The factor of safety as
  calculated by the Morgenstern Price solution method for the
  critical slip surface, measuring the stability of the slope. \\
\end{longtable}

\subsubsection{Access Routine Semantics}
\textbf{Input:}
\renewcommand*{\arraystretch}{1.5}
\begin{longtable}{p{0.3\textwidth} p{0.7\textwidth}}
  \textit{cslip} : $[\mathbb{R}]^{2,\text{nslip}}$ & Sequence of
  vertex coordinates for the critical slip surface of the slope. \\
  
  \textit{params\_layers} : struc\_layers & (Appendix \ref{Tbl:LayerParam})\\
  
  \textit{params\_piez} : struc\_piez & (Appendix \ref{Tbl:PiezParam})\\

  \textit{params\_soln} : struc\_soln & (Appendix \ref{Tbl:SolnParam})\\
  
  \textit{params\_load} : struc\_load & (Appendix
  \ref{Tbl:LoadForceParam})\\
\end{longtable}

\noindent \textbf{Exceptions:} ~\newline\noindent There are no
potential exceptions for Output.

~\newline\noindent \textbf{Output:} ~\newline\noindent Output does not
return any values; however, it creates a plot of the critical slip
surface \textit{cslip} as a part of the slope geometry \textit{strat}
(from \textit{params\_layers}). The plot also displays the
the factor of safety calculated by the Morgenstern-Price module 
\textit{F\_MP\_Final}.

\newpage

\bibliographystyle {plainnat}
\bibliography {../../../refs/References}

\newpage

% ---------------------------------------------------------------- %
% ------------------------  APPENDIX --------------------------%
% ---------------------------------------------------------------- %
\section{Appendix}

\subsection{Parameter Tables} \label{sec:ParamTables}

\subsubsection{Layer Parameters} \label{Tbl:LayerParam}
\noindent
The elements in the structure of the containers for the parameters of
different slope layers. Assumed that the parameters will be entered
such that sequence progresses from the uppermost stratigraphic layer
at the first index, to the lowest stratigraphic layer at the last
index. $nlayer$ refers to the number of soil layers in the slope, and
is defined by the input file.

\begin{center}
\begin{longtable}{ p{0.25\textwidth}
    p{0.75\textwidth}}\hline

  \textbf{Parameter} & \textbf{Description}\\ \hline

  \textit{strat} : $[[\mathbb{R}]^{2,\text{nvtx}}]^{1,\text{nlayer}}$
  & Sequence of coordinate sequences describing the vertexes of each
  layer. The value \textit{nvtx} is defined by the input file, and can
  be different for each sequence.\\

  \textit{phi} : $[\mathbb{R}]^{1,\text{nlayer}}$ & Sequence of the
  effective angle of friction for each stratigraphic layer.\\

  \textit{coh} : $[\mathbb{R}]^{1,\text{nlayer}}$ & Sequence of the
  effective cohesion for each stratigraphic layer.\\

  \textit{gam} : $[\mathbb{R}]^{1,\text{nlayer}}$ & Sequence of the dry
  unit weight of soil for each stratigraphic layer.\\

  \textit{gams} : $[\mathbb{R}]^{1,\text{nlayer}}$ & Sequence of the
  saturated unit weight of soil for each stratigraphic layer.\\

  \textit{E} : $[\mathbb{R}]^{1,\text{nlayer}}$ & Sequence of the
  Young's modulus for each stratigraphic layer.\\

  \textit{nu} : $[\mathbb{R}]^{1,\text{nlayer}}$ & Sequence of the
  poissons ratio for each stratigraphic layer. \\ \hline
\end{longtable}
\end{center}

\subsubsection{Piezometric Parameter} \label{Tbl:PiezParam}
\noindent
The elements in the structure for parameters relating to the
piezometric surface existing on the slope. $npz$ refers to the number
of vertexes describing the piezometric surface, and is defined by the
input file.

\begin{center}
\begin{longtable}{ p{0.2\textwidth}
    p{0.8\textwidth}}\hline 
  \textbf{Parameter} & \textbf{Description}\\ \hline

  \textit{piez} : $[\mathbb{R}]^{2,\text{npz}}$ & Sequence of vertex
  coordinates describing the geometry of the water table. If there is
  no water table than \textit{piez} is an empty array. \\

  \textit{gamw} : $\mathbb{R}$ & The unit weight of water. \\ \hline
\end{longtable}
\end{center}

\subsubsection{Search Range Parameters} \label{Tbl:SearchParam}
\noindent
The elements in the structure for parameters relating to the range of
coordinates the critical slip surface will be searched for in.

\begin{center}
\begin{tabular}{ p{0.2\textwidth}
    p{0.8\textwidth}}\hline 

  \textbf{Parameter} &
  \textbf{Description}\\ \hline

  Xext : $[\mathbb{R}]^{1,2}$ & Sequence of the range of $x$-ordinates
  that the exit point of the slip will be searched for in. Exit refers
  to the point of the slip at lower elevation that the slope mass will
  move towards during failure. \\

  Xent : $[\mathbb{R}]^{1,2}$ & Sequence of the range of $x$-ordinates
  that the entry point of the slip will be searched for in. Entry
  refers to the point of the slip at higher elevation that the slope
  mass will move away from during failure. \\

  Ylim : $[\mathbb{R}]^{1,2}$ & Sequence of range of $y$-ordinates
  that the slip will be searched for in. The larger value should be
  greater than the max $y$-ordinate of the slope. The smaller Ylim
  value is the deepest the slip surface is expected to descend
  to.\\ \hline
\end{tabular}
\end{center}

\subsubsection{Solution Parameters} \label{Tbl:SolnParam}
\noindent
The elements in the structure for parameters relating to method in
which the solution method will be approached.

\begin{center}
\begin{longtable}{ p{0.15\textwidth} 
    p{0.85\textwidth}}\hline 

  \textbf{Parameter} & \textbf{Description}\\ \hline

  ltor : $\mathbb{B}$ & Direction the slope is expected to
  experience failure in. If true than the side of the slope with a
  greater x-ordinate value is at a lower elevation. If false than the
  side of the slope with a greater x-ordinate is at a higher
  elevation.\\

  ftype : $\mathbb{B}$ & Switch between functions to use for
  interslice shear/normal inclination function. If true then the
  inclination function is a constant (Spencer's method). If false then
  the inclination function is a half-sine (standard Morgenstern Price
  method). \\

  evnslc : $\mathbb{B}$ & Switch between method of slicing a slip
  surface to when preparing for analysis. If true then slice slip
  surface into equal x-ordinate widths. If false then slice distance
  between vertices into even number of slices. \\

  cncvu : $\mathbb{B}$ & Switch for concave slip surface admissibility
  criterion. If true then an admissible slip surface must be concave
  upwards towards the surface. If false then an admissible slip
  surface does not need to pass this criterion.\\

  obtu : $\mathbb{B}$ & Switch for angle limit slip surface
  admissibility criterion. If true then an admissible slip surface
  must have all interior angles greater than a set limit. If false
  then an admissible slip surface does not need to pass this
  criterion.\\ \hline
\end{longtable}
\end{center}

\subsubsection{Load Force Parameters} \label{Tbl:LoadForceParam}
\noindent
The elements in the structure for parameters relating to the forces
acting on a slice caused by external sources or loads. $n$ refers to
the number of slices composing the slip surface.

\begin{center}
\begin{longtable}{ p{0.2\textwidth}
    p{0.8\textwidth}}\hline 

  \textbf{Parameter} & \textbf{Description}\\ \hline

  Kc : $\mathbb{R}$ & The seismic load factor. The ratio of the weight
  force of the slope that be exerted outwards as a result of
  vibrations of the earth's surface. From DD\ref{SRS-DD_Kc} of the
  SRS.\\

  Q : ?? & An applied load being exerted into the slope surface. From
  DD\ref{SRS-DD_Q} of the SRS. \\

  omega : ?? & The angle the applied load is being exerted into the slope
  surface. From DD\ref{SRS-DD_Q} of the SRS.\\ \hline
\end{longtable}
\end{center}

\subsubsection{Internal Force Parameters} \label{Tbl:ForceParam}
\noindent
The elements in the structure for parameters relating to the forces
acting on a slice caused by the slope, and water in the slope acting
on itself. $n$ refers to the number of slices composing the evaluation
slip surface, and is defined by the Slicer module (section
\ref{sec:SlicerMod}).

\begin{center}
\begin{longtable}{ p{0.2\textwidth} 
    p{0.8\textwidth}}\hline 

  \textbf{Parameter} & \textbf{Description}\\ \hline

  Ub : $[\mathbb{R}]^{1,n}$ & Sequence of the force acting on the
  basal surface of a slice as a result of pore water pressure within
  the slice. Value for each slice. From DD\ref{SRS-DD_Ub} of the
  SRS.\\
  
  Ut : $[\mathbb{R}]^{1,n}$ & Sequence of the force acting on the
  upper surface of a slice as a result of pore water pressure standing
  water on the surface. Value for each slice. From DD\ref{SRS-DD_Ut}
  of the SRS.\\

  W : $[\mathbb{R}]^{1,n}$ & Sequence of the downward force acting on
  the slice caused by the mass of the slice and the force of
  gravity. Value for each slice. From DD\ref{SRS-DD_W} of the SRS.\\

  H : $[\mathbb{R}]^{1,n-1}$ & Sequence of the force acting into the
  interslice surfaces as a result of pore water pressure within the
  adjacent slices. Value for each interslice. From DD\ref{SRS-DD_H} of
  the SRS.\\
\end{longtable}
\end{center}

\subsubsection{Angle Parameters} \label{Tbl:AngleParam}
\noindent
The elements in the structure for parameters relating to the angles of
the slice surfaces. $n$ refers to the number of slices composing the
slip surface, and is defined by the input \textit{evalslip} given to
the Property Sorter module (section \ref{sec:PropSortMod}).

\begin{center}
\begin{longtable}{ p{0.3\textwidth}
    p{0.7\textwidth}}\hline 
  \textbf{Parameter} & \textbf{Description}\\ \hline

  Alpha : $[\mathbb{R}]^{1,n}$ & Sequence of the angle that the basal
  surface of the slice makes with the horizontal. Value for each
  slice. From DD\ref{SRS-DD_Angles} of the SRS.\\

  Beta : $[\mathbb{R}]^{1,n}$ & Sequence of the angle that the upper
  surface of the slice makes with the horizontal. Value for each
  slice. From DD\ref{SRS-DD_Angles} of the SRS.\\ \hline
\end{longtable}
\end{center}

\subsubsection{Soil Interslice Properties} \label{Tbl:SoilIntParam}
The elements in the structure for parameters relating to the soil
properties of the slope, as calculated at the interslice interfaces of
an evaluation slip. Calculation is based on the ratio of the interface
that is in different stratigraphic layers, and the values of the
effective angle of friction in the different layers. Interest is only
with the interior interslice interfaces therefore for a slope of $n$
slices, there will be $n-1$ interior interslice interfaces. The value
\textit{n} is defined by the input \textit{evalslip} given to the
Property Sorter module (section \ref{sec:PropSortMod}).


\begin{center}
\begin{longtable}{p{0.2\textwidth} p{0.8\textwidth}}
  \hline \textbf{Parameter} & \textbf{Description} \\ \hline
    
  \textit{phi\_IS} : $[\mathbb{R}]^{1,n-1}$ & Sequence of the vector
  of the effective angle of friction calculated at each interslice
  interface. \\

  \textit{coh\_IS} := $[\mathbb{R}]^{1,n-1}$ & Sequence of the vector
  of the effective cohesion calculated at each interslice interface.\\

  \textit{E\_IS} := $[\mathbb{R}]^{1,n-1}$ & Sequence of the vector of
  the Youngs modulus calculated at each interslice interface.\\

  \textit{nu\_IS} := $[\mathbb{R}]^{1,n-1}$ & Sequence of the vector
  of the Poisson ratio calculated at each interslice
  interface. \\ \hline
\end{longtable}
\end{center}

\subsubsection{Soil Base Properties} \label{Tbl:SoilBaseParam}
The elements in the structure for parameters relating to the soil
properties of the slope, as calculated at the basal surfaces of an
evaluation slip. Calculation is based on the ratio of the basal
surface that is in different stratigraphic layers, and the values of
the effective angle of friction in the different layers. An evaluation
slip of $n$ slices will have $n$ basal surfaces, and the value of
\textit{n} is defined by the input \textit{evalslip} given to
the Property Sorter module (section \ref{sec:PropSortMod}).


\begin{center}
\begin{longtable}{p{0.2\textwidth} p{0.8\textwidth}}
  \hline \textbf{Parameter} & \textbf{Description} \\ \hline

  \textit{phi\_Base} : $[\mathbb{R}]^{1,n}$ & Sequence of the vector
  of the effective angle of friction calculated at each slice basal
  surface in an evaluation slip.\\

  \textit{coh\_Base} : $[\mathbb{R}]^{1,n}$ & Sequence of the vector
  of the effective cohesion calculated at each slice basal surface in
  an evaluation slip.\\

  \textit{E\_Base} : $[\mathbb{R}]^{1,n}$ & Sequence of the vector of
  the Young's modulus calculated at each slice basal surface in an
  evaluation slip.\\

  \textit{nu\_Base} : $[\mathbb{R}]^{1,n}$ & Sequence of the vector of
  the Poisson ratio calculated at each slice basal surface in an
  evaluation slip.  \\ \hline
\end{longtable}
\end{center}

\end{document}
